(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,a,t){},37:function(e,a,t){e.exports=t(56)},42:function(e,a,t){},43:function(e,a,t){},48:function(e,a,t){},54:function(e,a,t){},56:function(e,a,t){"use strict";t.r(a);var r={};t.r(r),t.d(r,"loginSaga",function(){return ue}),t.d(r,"logoutSaga",function(){return pe}),t.d(r,"changePassSaga",function(){return de});var n={};t.r(n),t.d(n,"searchSaga",function(){return be}),t.d(n,"getUserSaga",function(){return ve});var s=t(0),o=t.n(s),c=t(22),l=t.n(c),i=(t(42),t(8)),m=t(9),u=t(12),p=t(10),d=t(13),h=(t(43),t(15)),f=t(11),g="https://mysocializer.herokuapp.com",E="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==",b="LOGIN",v="_LOGIN_SUCCESS",A="_LOGIN_FAIL",w="SEARCH",y="_SEARCH_SUCCESS",N="_SEARCH_FAIL",x="GETUSER",k="_GETUSER_SUCCESS",O="_GETUSER_FAIL",R="LOGOUT",S="CHANGEPASSWORD",j="_CHANGEPASSWORD_SUCCESS",P="_CHANGEPASSWORD_FAIL",C=(t(48),function(e){function a(){var e,t;Object(i.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(t=Object(u.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(n)))).state={searchText:""},t.focusOnSearch=!1,t.title="socializer",t.page=window.location.href||"",t}return Object(d.a)(a,e),Object(m.a)(a,[{key:"search",value:function(e){e.preventDefault();var a=e.target.value;(a=a.trim())&&a.length>2?(a!==this.state.searchText&&this.props.dispatchSearch(a),this.setState({searchText:a})):this.setState({searchText:""})}},{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,console.log("a",this.props),o.a.createElement("nav",{className:"navbar navbar-expand-md navbar-light fixed-top",id:"mainNav"},o.a.createElement("div",{className:"container"},o.a.createElement(h.b,{className:"navbar-brand js-scroll-trigger",to:"/home"},this.title),o.a.createElement("button",{className:"navbar-toggler navbar-toggler-right",type:"button","data-toggle":"collapse","data-target":"#navbarResponsive","aria-controls":"navbarResponsive","aria-expanded":"false","aria-label":"Toggle navigation"},"Menu\xa0",o.a.createElement("i",{className:"fa fa-bars"})),o.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarResponsive"},o.a.createElement("ul",{className:"navbar-nav ml-auto pull-right"},this.props.user&&o.a.createElement("li",{className:"nav-item"},o.a.createElement("div",{className:"searchDiv"},o.a.createElement("form",{name:"form searchBar"},o.a.createElement("input",{type:"text",autoComplete:"off",className:"form-control lowercase pull-right",placeholder:"search",name:"search",onKeyUp:this.search.bind(this)})),this.props.items&&this.props.items.length>0&&o.a.createElement("div",{className:"searchResults"},console.log(this.props),this.props.items.filter(function(){return e.state.searchText.length>2}).map(function(e){return o.a.createElement("div",{className:"searchResultItem",key:e._id},o.a.createElement("img",{alt:"",src:g+e.thumbnail,height:"35px",width:"35px"}),o.a.createElement("div",null,o.a.createElement(h.b,{to:"/profile/"+e.username},e.username)))})))),!this.props.user&&!this.page.endsWith("/login")&&o.a.createElement("li",{className:"nav-item"},o.a.createElement(h.b,{to:"/login",className:"btn btn-outline-primary buttonIcon pull-right"},o.a.createElement("span",null,"LogIn\xa0"),o.a.createElement("i",{className:"fa fa-user","aria-hidden":!0}))),!this.props.user&&!this.page.endsWith("/register")&&o.a.createElement("li",{className:"nav-item"},o.a.createElement(h.b,{to:"/register",className:"btn btn-outline-primary buttonIcon pull-right"},o.a.createElement("span",null,"SignUp\xa0"),o.a.createElement("i",{className:"fa fa-user-plus","aria-hidden":!0}))),this.props.user&&o.a.createElement("li",{className:"nav-item"},o.a.createElement(h.b,{className:"btn btn-outline-success buttonIcon pull-right",to:"/profile/"+this.props.user.username},o.a.createElement("span",{className:"buttonText"},this.props.user.username," \xa0"),o.a.createElement("i",{className:"fa fa-user"}))),this.props.user&&this.props.user.admin&&o.a.createElement("li",{className:"nav-item"},o.a.createElement(h.b,{className:"btn btn-outline-success buttonIcon pull-right",id:"requestsButton",to:"/admin/requests"},o.a.createElement("span",{className:"buttonText"},"Requests\xa0"),o.a.createElement("i",{className:"fa fa-user-plus"}))),this.props.user&&!this.props.user.admin&&o.a.createElement("li",{className:"nav-item"},o.a.createElement(h.b,{className:"btn btn-outline-success buttonIcon pull-right",id:"changepassword",to:"/changepassword"},o.a.createElement("span",{className:"buttonText"},"Change Password\xa0"),o.a.createElement("i",{className:"fa fa-key"}))),this.props.user&&o.a.createElement("li",{className:"nav-item"},o.a.createElement(h.b,{className:"btn btn-outline-success buttonIcon pull-right",to:"/messages"},o.a.createElement("span",{className:"buttonText"},"messages\xa0"),o.a.createElement("i",{className:"fa fa-envelope"}))),this.props.user&&o.a.createElement("li",{className:"nav-item"},o.a.createElement(h.b,{className:"btn btn-outline-success buttonIcon pull-right",to:"/logout",onClick:this.props.dispatchLogout},o.a.createElement("span",{className:"buttonText"},"logout\xa0"),o.a.createElement("i",{className:"fa fa-sign-out"}))))))))}}]),a}(s.Component)),I=Object(f.b)(function(e){return{items:e.User.searchItems,errMsg:e.User.errMsg,user:e.Authentication.user}},function(e){return{dispatchSearch:function(a){e({type:w,payload:a})},dispatchLogout:function(a){e({type:R})}}})(C),U=(t(28),function(e){function a(){var e,t;Object(i.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(t=Object(u.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(n)))).state={username:"",password:""},t.title="Socializer",t.usernameRef=null,t.passwordRef=null,t}return Object(d.a)(a,e),Object(m.a)(a,[{key:"login",value:function(e){e.preventDefault(),e.target.checkValidity()&&this.props.dispachLogin({username:this.state.username.toLowerCase(),password:this.state.password})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"col-lg-10 mx-auto"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-6"},o.a.createElement("h1",null,"Welcome to ",this.title)),o.a.createElement("div",{className:"col-md-6"},o.a.createElement("div",{className:"row"},o.a.createElement("form",{name:"form",className:"col-lg-10 mx-auto",onSubmit:this.login.bind(this),noValidate:!0},o.a.createElement("div",{className:"form-group col-12 ".concat(this.usernameRef&&!this.usernameRef.checkValidity()?"":"has-error")},o.a.createElement("input",{type:"text",ref:function(a){e.usernameRef=a},className:"form-control lowercase",placeholder:"username",name:"username",value:this.state.username,onChange:function(a){e.setState({username:a.target.value})},required:!0}),this.usernameRef&&!this.usernameRef.checkValidity()&&o.a.createElement("div",{className:"help-block error"},"Username is required")),o.a.createElement("div",{className:"form-group col-12 ".concat(this.passwordRef&&!this.passwordRef.checkValidity()?"":"has-error")},o.a.createElement("input",{type:"password",ref:function(a){e.passwordRef=a},className:"form-control",placeholder:"password",name:"password",value:this.state.password,onChange:function(a){e.setState({password:a.target.value})},required:!0}),this.passwordRef&&!this.passwordRef.checkValidity()&&o.a.createElement("div",{className:"help-block error"},"Password is required")),this.props.loginError&&this.props.loginError.length>0&&o.a.createElement("div",{className:"form-group alert alert-danger col-10 mx-auto",role:"alert"},this.props.loginError),o.a.createElement("div",{className:"form-group"},o.a.createElement("button",{type:"submit",disabled:this.props.loading,className:"btn btn-primary"},"Login",this.props.loading&&o.a.createElement("img",{alt:"",src:E}))))))))}}]),a}(s.Component)),L=Object(f.b)(function(e){var a=e.Authentication;return{loginError:a&&a.loginError||"",loading:a&&a.loginLoading||!1}},function(e){return{dispachLogin:function(a){return e({type:b,payload:a})}}})(U),M=(t(54),function(e){function a(){var e,t;Object(i.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(t=Object(u.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(n)))).profilePicRef=null,t.imgPreviewRef=null,t.imageSelected=!1,t.model={gender:"male"},t.errorMessage="Server Error.\n Please try after some time.",t.loading=!1,t.emailRegEx=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,t.phoneRegEx=/^\d{10}$/,t.registerError="none",t.registerInfo="none",t.isMale=!0,t.imageSelected="none",t.usernameTooShort=!1,t.userAlredyExists=!1,t.emailAlredyExists=!1,t.phoneAlredyExists=!1,t}return Object(d.a)(a,e),Object(m.a)(a,[{key:"handleFile",value:function(e){var a=e.target.files;if(0===a.length){this.imgPreviewRef.style.transform="rotate(0deg)",this.model.rotation=0,this.imageSelected=!0;var t=a[0];this.model.file=t;var r=new FileReader;r.onload=function(e){this.imgPreviewRef.src=e.target.result},r.readAsDataURL(t)}}},{key:"rotate90",value:function(){var e=parseInt(this.model.rotation,0)||0;this.imgPreviewRef.style.transform="rotate("+(90+e)+"deg)",this.model.rotation=(90+e)%360}},{key:"gengerSelect",value:function(e,a){this.isMale="male"===a,this.model.gender=a}},{key:"handleFile",value:function(e,a){}},{key:"checkUsername",value:function(e){var a=this;this.usernameTooShort=e.length<6,this.usernameTooShort||this._validaterService.usernameValid(e).subscribe(function(t){a.userAlredyExists=!t.response,t.response&&(a.model.username=e)},function(e){})}},{key:"avoidSpaceUsername",value:function(e){if(32===e.which)return!1;this.usernameTooShort=!1,this.userAlredyExists=!1}},{key:"checkEmail",value:function(e){var a=this;null===e.match(this.emailRegEx)?this.emailvalid=!1:(this.emailvalid=!0,this._validaterService.emailValid(e).subscribe(function(t){a.emailAlredyExists=!t.response,t.response&&(a.model.email=e)},function(e){}))}},{key:"avoidSpaceEmail",value:function(e){if(32===e.which)return!1;this.emailAlredyExists=!1}},{key:"checkPhone",value:function(e){var a=this;null===e.match(this.phoneRegEx)?this.phonevalid=!1:(this.phonevalid=!0,this._validaterService.phoneNoValid(e).subscribe(function(t){a.phoneAlredyExists=!t.response,t.response&&(a.model.phoneNo=e)},function(e){}))}},{key:"avoidSpacePhone",value:function(e){this.phoneAlredyExists=!1}},{key:"nextPage",value:function(){this.model.username&&this.model.email&&this.model.phoneNo?this.emailvalid&&this.phonevalid&&!this.userAlredyExists&&!this.usernameTooShort&&(this.lastpage="block",this.firstpage="none",this.infopage="none"):(this.emailvalid=this.model.email&&!0,this.phonevalid=this.model.phoneNo&&!0,this.usernameTooShort=!this.model.phoneNo||this.model.phoneNo.length>6)}},{key:"prevPage",value:function(){this.lastpage="none",this.firstpage="block",this.infopage="none"}},{key:"register",value:function(){var e=this;this.registerError="none",this.registerInfo="none",this.loading=!0;for(var a=new FormData,t=0,r=Object.keys(this.model);t<r.length;t++){var n=r[t];"file"!==n&&a.append(n,this.model[n])}this.model.file&&(a.append("file",this.model.file,this.model.file.name),delete this.model.file),console.log(a),this._authenticateService.register(a).subscribe(function(a){console.log(a),e.lastpage="none",e.firstpage="none",e.infopage="block","success"===a.response?(e.registerError="none",e.registerInfo="block"):(e.errorMessage=a.message||e.errorMessage,e.registerError="block",e.registerInfo="none")},function(a){console.log(a),e.lastpage="none",e.firstpage="none",e.infopage="block",e.registerError="block",e.registerInfo="none"})}},{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement("form",{name:"form",encType:"multipart/form-data",noValidate:!0},o.a.createElement("div",null,o.a.createElement("div",{className:"form-group col-12"},o.a.createElement("input",{ref:function(a){e.profilePicRef=a},type:"file",style:{display:"none"},accept:"image/*",onChange:this.handleFile.bind(this)}),o.a.createElement("div",{className:"outerBox mx-auto"},o.a.createElement("img",{src:"/assets/img/default.png",ref:function(a){e.imgPreviewRef=a},className:"rounded-circle profileImage",alt:"Select Your Image",height:"125px",width:"125px"}),o.a.createElement("div",{className:"overlay"},o.a.createElement("div",{className:"centerMessage",onClick:function(){e.profilePicRef&&e.profilePicRef.click()}},o.a.createElement("label",null," Upload Image ")),this.imageSelected&&o.a.createElement("div",{className:"cornerButton",onClick:this.rotate90.bind(this)},o.a.createElement("i",{className:"fa fa-repeat",style:{fontSize:"25px"}}))))),o.a.createElement("div",{className:"col-12 mx-auto"},o.a.createElement("label",null,o.a.createElement("strong",null,"Username "))),o.a.createElement("div",{className:"form-group col-12"},o.a.createElement("input",{type:"text",className:"form-control lowercase",placeholder:"Username",name:"username",required:!0}),o.a.createElement("div",{className:"help-block error"},"Username is required"),o.a.createElement("div",{className:"help-block error"},"Username already taken. Try another One"),o.a.createElement("div",{className:"help-block error"},"Username too short")),o.a.createElement("div",{className:"col-12 mx-auto"},o.a.createElement("label",null,o.a.createElement("strong",null,"E-Mail "))),o.a.createElement("div",{className:"form-group col-12"},o.a.createElement("input",{type:"email",className:"form-control lowercase",placeholder:"E-Mail",name:"email",required:!0}),o.a.createElement("div",{className:"help-block error"},"email is required"),o.a.createElement("div",{className:"help-block error"},"enter valid email"),o.a.createElement("div",{className:"help-block error"},"Email already registered. Try another One")),o.a.createElement("div",{className:"col-12 mx-auto"},o.a.createElement("label",null,o.a.createElement("strong",null,"Phone Number "))),o.a.createElement("div",{className:"form-group col-12"},o.a.createElement("input",{type:"tel",className:"form-control",placeholder:"Phone Number",name:"phoneNo",required:!0}),o.a.createElement("div",{className:"help-block error"},"Phone Number is required"),o.a.createElement("div",{className:"help-block error"},"enter valid phone number"),o.a.createElement("div",{className:"help-block error"},"Phone already registered. Try another One")),o.a.createElement("div",{className:"form-group col-12"},o.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Next ",o.a.createElement("i",{className:"fa fa-angle-right"}))))))}}]),a}(s.Component)),T=function(e){function a(){var e,t;Object(i.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(t=Object(u.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(n)))).title="Socializer",t}return Object(d.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(I,null),o.a.createElement("div",{className:"intro-body"},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row"},this.props.isLogin&&o.a.createElement(L,null)||o.a.createElement("div",{className:"col-lg-6 col-md-8 col-10 mx-auto form-box"},o.a.createElement(M,null))))))}}]),a}(s.Component),D=Object(f.b)()(T),V=t(21),G=function(e){function a(){return Object(i.a)(this,a),Object(u.a)(this,Object(p.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,console.log(this.props),o.a.createElement(I,null),this.props.user&&o.a.createElement("div",{className:"intro-body"},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-8 col-10 mx-auto"},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"row p-3"},o.a.createElement("div",{className:"col-lg-5 m-auto"},o.a.createElement("img",{alt:"",src:g+this.props.user.imglink,className:"rounded-circle",style:{objectFit:"cover",width:200,height:200}})),o.a.createElement("div",{className:"col-lg-7"},o.a.createElement("div",{className:"card-block"},o.a.createElement("h4",{className:"card-title"},this.props.user.username),o.a.createElement("p",{className:"card-text"},this.props.user.fullname),o.a.createElement("p",{className:"card-text"},o.a.createElement("i",{className:"fa fa-envelope"}),"\xa0",this.props.user.email),o.a.createElement("p",{className:"card-text"},o.a.createElement("i",{className:"fa fa-phone"}),"\xa0",this.props.user.phoneNo),o.a.createElement("p",{className:"card-text"},o.a.createElement("i",{className:"fa fa-user"}),"\xa0",this.props.user.gender),o.a.createElement("p",{className:"card-text"},o.a.createElement("i",{className:"fa fa-birthday-cake"}),"\xa0",function(){var a=new Date(e.props.user.dob);return a.getDate()+"-"+(a.getUTCMonth()+1)+"-"+a.getFullYear()}()),this.props.user.descrition&&this.props.user.descrition.length>0&&o.a.createElement("p",{className:"card-text"},o.a.createElement("i",{className:"fa fa-file"}),this.props.user.description)))))))))))}}]),a}(s.Component),Q=Object(f.b)(function(e){return{user:e.User&&e.User.tempuser||null}})(G),_=function(e){function a(){var e,t;Object(i.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(t=Object(u.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(n)))).state={oldpassword:"",newpassword:"",username:"",confpassword:"",sec:5,submitted:!1},t.oldPassRef=null,t.usernameRef=null,t.confPassRef=null,t.newPassRef=null,t.formRef=null,t}return Object(d.a)(a,e),Object(m.a)(a,[{key:"handlechangepassword",value:function(){this.setState({submitted:!1});var e={oldpassword:this.state.oldpassword,newpassword:this.state.newpassword===this.state.confpassword?this.state.confpassword:"",username:this.props.username};this.props.dispachChangePassword(e)}},{key:"beginCountDown",value:function(){var e=this,a=setInterval(function(){var t=e.state.sec;0===t?clearInterval(a):e.setState({sec:t-1})},1e3)}},{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,0===this.state.sec?o.a.createElement(V.a,{to:"/login"}):o.a.createElement(o.a.Fragment,null),o.a.createElement(I,null),o.a.createElement("div",{className:"intro-body"},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-lg-7 col-md-8 col-10 mx-auto form-box"},o.a.createElement("form",{name:"form",className:"col-lg-10 mx-auto",ref:function(a){e.formRef=a},onSubmit:function(a){a.preventDefault(),e.setState({submitted:!0}),e.formRef.checkValidity()&&e.handlechangepassword.bind(e)()},noValidate:!0},o.a.createElement("div",{className:"form-group col-12 ".concat(this.usernameRef&&!this.usernameRef.checkValidity()?"":"has-error")},o.a.createElement("input",{type:"text",ref:function(a){e.usernameRef=a},className:"form-control lowercase",disabled:"disabled",placeholder:"username",name:"username",onChange:function(e){e.preventDefault()},value:this.props.username})),o.a.createElement("div",{className:"form-group col-12 ".concat(this.oldPassRef&&!this.oldPassRef.checkValidity()?"":"has-error")},o.a.createElement("input",{type:"password",className:"form-control",placeholder:"Old Password",name:"oldpassword",ref:function(a){e.oldPassRef=a},value:this.state.oldpassword,onChange:function(a){e.setState({oldpassword:a.target.value})},required:!0}),this.state.submitted&&this.oldPassRef&&!this.oldPassRef.checkValidity()&&o.a.createElement("div",{className:"help-block error"},"Old Password is required")),o.a.createElement("div",{className:"form-group col-12 ".concat(this.newPassRef&&!this.newPassRef.checkValidity()?"":"has-error")},o.a.createElement("input",{type:"password",className:"form-control",placeholder:"New Password",name:"newpassword",ref:function(a){e.newPassRef=a},value:this.state.newpassword,onChange:function(a){e.setState({newpassword:a.target.value})},required:!0}),this.state.submitted&&this.newPassRef&&!this.newPassRef.checkValidity()&&o.a.createElement("div",{className:"help-block error"},"New Password is required")),o.a.createElement("div",{className:"form-group col-12 ".concat(this.confPassRef&&!this.confPassRef.checkValidity()?"":"has-error")},o.a.createElement("input",{type:"password",className:"form-control",placeholder:"Confirm Password",name:"confpassword",ref:function(a){e.confPassRef=a},value:this.state.confpassword,onChange:function(a){e.setState({confpassword:a.target.value})},required:!0}),this.state.submitted&&this.confPassRef&&!this.confPassRef.checkValidity()&&o.a.createElement("div",{className:"help-block error"},"Confirm Passwords is required"),this.state.newpassword!==this.state.confpassword&&o.a.createElement("div",{className:"help-block error"},"Passwords is do not match")),this.props.error&&this.props.error.length>0&&o.a.createElement("div",{className:"form-group alert alert-danger col-10 mx-auto",role:"alert"},this.props.error),this.props.success&&(this.beginCountDown.bind(this)()||!0)&&o.a.createElement("div",{className:"form-group alert alert-info col-10 mx-auto",role:"alert"},"Password Changed. you will be redirected to login page in ".concat(this.state.sec," seconds.")),o.a.createElement("div",{className:"form-group"},o.a.createElement("button",{disabled:this.props.loading,className:"btn btn-primary"},"Change",this.props.loading&&o.a.createElement("img",{alt:"",src:E})))))))))}}]),a}(s.Component),F=Object(f.b)(function(e){return{error:e.Authentication.changePasswordError,loading:e.Authentication.changePasswordLoading,success:e.Authentication.changePasswordSuccess,username:e.Authentication.user&&e.Authentication.user.username}},function(e){return{dispachChangePassword:function(a){e({type:S,payload:a})}}})(_),B=function(e){function a(){return Object(i.a)(this,a),Object(u.a)(this,Object(p.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement(h.a,null,o.a.createElement(V.b,{path:"/",exact:!0,render:function(){return o.a.createElement(V.a,{to:"/".concat(e.props.user?"home":"login")})}}),o.a.createElement(V.b,{path:"/login",exact:!0,render:function(){return e.props.user?o.a.createElement(V.a,{to:"/home"}):o.a.createElement(D,{isLogin:!0})}}),o.a.createElement(V.b,{path:"/logout",exact:!0,render:function(){return o.a.createElement(V.a,{to:"/login"})}}),o.a.createElement(V.b,{path:"/register",exact:!0,render:function(){return e.props.user?o.a.createElement(V.a,{to:"/home"}):o.a.createElement(D,{isLogin:!1})}}),o.a.createElement(V.b,{path:"/home",exact:!0,render:function(){return e.props.user?o.a.createElement(Q,null):o.a.createElement(V.a,{to:"/login"})}}),o.a.createElement(V.b,{path:"/changepassword",exact:!0,render:function(){return e.props.user?o.a.createElement(F,null):o.a.createElement(V.a,{to:"/login"})}}),o.a.createElement(V.b,{path:"/profile/:username",exact:!0,render:function(a){return e.props.dispatchSearch(a.match.params.username),o.a.createElement(Q,null)}}))}}]),a}(s.Component),q=Object(f.b)(function(e){return{user:e.Authentication.user}},function(e){return{dispatchSearch:function(a){console.log(a),e({type:x,payload:a})}}})(B);var H=t(20),J=t(16),K=null;try{K=(K=JSON.parse(atob(atob(localStorage.getItem("user")))))&&K.username&&K._id&&K||null}catch(je){K=null}var Y={user:K,loginError:"",loginLoading:!1,loginSuccess:!1,changePasswordError:"",changePasswordLoading:!1,changePasswordSuccess:!1};var W={tempuser:null,errMsg:"",searchItems:[]};var z=Object(H.c)({Authentication:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case v:return Object(J.a)({},e,{user:a.payload,loginLoading:!1,loginSuccess:!0});case A:return Object(J.a)({},e,{loginError:a.payload,loginLoading:!1,loginSuccess:!1});case b:return Object(J.a)({},e,{loginLoading:!0,loginError:""});case R:return Object(J.a)({},e,{user:null,loginLoading:!1});case j:return Object(J.a)({},e,{changePasswordError:"",changePasswordLoading:!1,changePasswordSuccess:!0});case S:return Object(J.a)({},e,{changePasswordError:"",changePasswordLoading:!0});case P:return Object(J.a)({},e,{changePasswordError:a.payload,changePasswordLoading:!1,changePasswordSuccess:!1});default:return e}},User:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case k:return Object(J.a)({},e,{tempuser:a.payload});case O:return Object(J.a)({},e,{errMsg:a.payload});case y:return Object(J.a)({},e,{searchItems:a.payload,errMsg:""});case N:return Object(J.a)({},e,{searchItems:[],errMsg:a.payload});default:return e}}}),Z=t(36),X=t(5),$=t.n(X),ee=t(31),ae=t(6),te=$.a.mark(le),re=$.a.mark(ie),ne=$.a.mark(me),se=$.a.mark(ue),oe=$.a.mark(pe),ce=$.a.mark(de);function le(e){var a;return $.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(g+"/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e.payload)});case 3:return a=t.sent,t.next=6,a.json();case 6:if(!(a=t.sent)||"success"!==a.response||!a.user){t.next=13;break}return localStorage.setItem("user",btoa(btoa(JSON.stringify(a.user)))),t.next=11,Object(ae.c)({type:v,payload:a.user});case 11:t.next=20;break;case 13:if(!a||"fail"!==a.response||!a.message){t.next=18;break}return t.next=16,Object(ae.c)({type:A,payload:a.message});case 16:t.next=20;break;case 18:return t.next=20,Object(ae.c)({type:A,payload:"SERVER ERROR"});case 20:t.next=26;break;case 22:return t.prev=22,t.t0=t.catch(0),t.next=26,Object(ae.c)({type:A,payload:"SERVER ERROR"});case 26:case"end":return t.stop()}},te,null,[[0,22]])}function ie(){return $.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,localStorage.setItem("user",""),e.next=4,fetch(g+"/api/logout");case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}},re,null,[[0,6]])}function me(e){var a;return $.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(g+"/api/changepassword",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e.payload)});case 3:return a=t.sent,t.next=6,a.json();case 6:if(!(a=t.sent)||"success"!==a.response){t.next=12;break}return t.next=10,Object(ae.c)({type:j,payload:a.message});case 10:t.next=14;break;case 12:return t.next=14,Object(ae.c)({type:P,payload:a.message});case 14:t.next=20;break;case 16:return t.prev=16,t.t0=t.catch(0),t.next=20,Object(ae.c)({type:P,payload:"SERVER ERROR"});case 20:case"end":return t.stop()}},ne,null,[[0,16]])}function ue(){return $.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ae.d)(b,le);case 2:case"end":return e.stop()}},se)}function pe(){return $.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ae.d)(R,ie);case 2:case"end":return e.stop()}},oe)}function de(){return $.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ae.d)(S,me);case 2:case"end":return e.stop()}},ce)}var he=$.a.mark(be),fe=$.a.mark(ve),ge=$.a.mark(Ae),Ee=$.a.mark(we);function be(){return $.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ae.d)(w,Ae);case 2:case"end":return e.stop()}},he)}function ve(){return $.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ae.d)(x,we);case 2:case"end":return e.stop()}},fe)}function Ae(e){var a;return $.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(g+"/api/search/"+e.payload);case 3:return a=t.sent,t.next=6,a.json();case 6:if(!(a=t.sent)||0!==a.length){t.next=12;break}return t.next=10,Object(ae.c)({type:N,payload:"No such User Found"});case 10:t.next=19;break;case 12:if(!(a&&a.length>0)){t.next=17;break}return t.next=15,Object(ae.c)({type:y,payload:a});case 15:t.next=19;break;case 17:return t.next=19,Object(ae.c)({type:N,payload:"SERVER ERROR"});case 19:t.next=25;break;case 21:return t.prev=21,t.t0=t.catch(0),t.next=25,Object(ae.c)({type:N,payload:"SERVER ERROR"});case 25:case"end":return t.stop()}},ge,null,[[0,21]])}function we(e){var a;return $.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(g+"/api/user/"+e.payload);case 3:return a=t.sent,t.next=6,a.json();case 6:if(!(a=t.sent)||!a.username){t.next=12;break}return t.next=10,Object(ae.c)({type:k,payload:a});case 10:t.next=13;break;case 12:throw new Error;case 13:t.next=19;break;case 15:return t.prev=15,t.t0=t.catch(0),t.next=19,Object(ae.c)({type:O,payload:"SERVER ERROR"});case 19:case"end":return t.stop()}},Ee,null,[[0,15]])}var ye=$.a.mark(Ne);function Ne(){return $.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ae.a)([].concat(Object(ee.a)(Object.values(r)),Object(ee.a)(Object.values(n))).map(ae.b));case 2:case"end":return e.stop()}},ye)}var xe=Ne,ke=Object(Z.a)(),Oe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||H.d,Re=Object(H.e)(z,Oe(Object(H.a)(ke)));ke.run(xe);var Se=Re;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(f.a,{store:Se},o.a.createElement(q,null)),document.getElementById("page-top")),l.a.render(o.a.createElement(function(){return o.a.createElement("div",{className:"container text-center"},o.a.createElement("p",null,"Copyright \xa9 Socializer 2018"),o.a.createElement("p",null," created by Anubhav"))},null),document.getElementById("footer")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[37,1,2]]]);
//# sourceMappingURL=main.44c2bbd1.chunk.js.map